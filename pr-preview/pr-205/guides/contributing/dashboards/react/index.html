
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="An interactive python terminal UI wrapper for Mango Tree analyzers." name="description"/>
<meta content="CIB Mango Tree" name="author"/>
<link href="https://cibmangotree.org/guides/contributing/dashboards/react/" rel="canonical"/>
<link href="../shiny/" rel="prev"/>
<link href="../../logging/" rel="next"/>
<link href="../../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.20" name="generator"/>
<title>React (WIP) - CIB Mango Tree</title>
<link href="../../../../assets/stylesheets/main.e53b48f4.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../../assets/_mkdocstrings.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#react-dashboards-guide">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="CIB Mango Tree" class="md-header__button md-logo" data-md-component="logo" href="../../../.." title="CIB Mango Tree">
<img alt="logo" src="../../../../img/favicon.ico"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            CIB Mango Tree
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              React (WIP)
            
          </span>
</div>
</div>
</div>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/civictechdc/mango-tango-cli" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../..">
          
  
  
  Home

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../../../get-started/overview/">
          
  
  
  Guides

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../../reference/analyzer_interface/">
          
  
  
  Reference (CLI)

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="CIB Mango Tree" class="md-nav__button md-logo" data-md-component="logo" href="../../../.." title="CIB Mango Tree">
<img alt="logo" src="../../../../img/favicon.ico"/>
</a>
    CIB Mango Tree
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/civictechdc/mango-tango-cli" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
    Home
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Home
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../..">
<span class="md-ellipsis">
    About
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../license/">
<span class="md-ellipsis">
    License
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-ellipsis">
    Guides
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Guides
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="">
<span class="md-ellipsis">
    Getting Started
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_1">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../get-started/overview/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../get-started/installation/">
<span class="md-ellipsis">
    Installation
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
<span class="md-ellipsis">
    Contributing
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../contributing/">
<span class="md-ellipsis">
    Contributor Workflow
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../analyzers/">
<span class="md-ellipsis">
    Implementing Analyzers
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2_3" id="__nav_2_2_3_label" tabindex="0">
<span class="md-ellipsis">
    Dashboards
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_2_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_2_3">
<span class="md-nav__icon md-icon"></span>
            Dashboards
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../shiny/">
<span class="md-ellipsis">
    Shiny
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    React (WIP)
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    React (WIP)
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#react-dashboards-guide">
<span class="md-ellipsis">
      React Dashboards Guide
    </span>
</a>
<nav aria-label="React Dashboards Guide" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
<span class="md-ellipsis">
      Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#architecture">
<span class="md-ellipsis">
      Architecture
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#setting-up-api-factory">
<span class="md-ellipsis">
      Setting Up API Factory
    </span>
</a>
<nav aria-label="Setting Up API Factory" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-api-factory">
<span class="md-ellipsis">
      Basic API Factory
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multi-output-api-factory">
<span class="md-ellipsis">
      Multi-Output API Factory
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complex-filtering-and-search">
<span class="md-ellipsis">
      Complex Filtering and Search
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-endpoints">
<span class="md-ellipsis">
      API Endpoints
    </span>
</a>
<nav aria-label="API Endpoints" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#standard-endpoints">
<span class="md-ellipsis">
      Standard Endpoints
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#download-endpoints">
<span class="md-ellipsis">
      Download Endpoints
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#react-component-architecture">
<span class="md-ellipsis">
      React Component Architecture
    </span>
</a>
<nav aria-label="React Component Architecture" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#core-component-structure">
<span class="md-ellipsis">
      Core Component Structure
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-fetching-hooks">
<span class="md-ellipsis">
      Data Fetching Hooks
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chart-components">
<span class="md-ellipsis">
      Chart Components
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interactive-data-tables">
<span class="md-ellipsis">
      Interactive Data Tables
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#search-and-filtering-components">
<span class="md-ellipsis">
      Search and Filtering Components
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#download-components">
<span class="md-ellipsis">
      Download Components
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#state-management">
<span class="md-ellipsis">
      State Management
    </span>
</a>
<nav aria-label="State Management" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#local-component-state">
<span class="md-ellipsis">
      Local Component State
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#global-state-with-zustand">
<span class="md-ellipsis">
      Global State with Zustand
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#styling-and-theming">
<span class="md-ellipsis">
      Styling and Theming
    </span>
</a>
<nav aria-label="Styling and Theming" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tailwind-css-classes">
<span class="md-ellipsis">
      Tailwind CSS Classes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dark-mode-support">
<span class="md-ellipsis">
      Dark Mode Support
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#responsive-design">
<span class="md-ellipsis">
      Responsive Design
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-optimization">
<span class="md-ellipsis">
      Performance Optimization
    </span>
</a>
<nav aria-label="Performance Optimization" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#memoization-and-optimization">
<span class="md-ellipsis">
      Memoization and Optimization
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#virtual-scrolling">
<span class="md-ellipsis">
      Virtual Scrolling
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#code-splitting">
<span class="md-ellipsis">
      Code Splitting
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-react-dashboards">
<span class="md-ellipsis">
      Testing React Dashboards
    </span>
</a>
<nav aria-label="Testing React Dashboards" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#component-testing">
<span class="md-ellipsis">
      Component Testing
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-testing">
<span class="md-ellipsis">
      Integration Testing
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#e2e-testing-with-cypress">
<span class="md-ellipsis">
      E2E Testing with Cypress
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deployment-and-build-process">
<span class="md-ellipsis">
      Deployment and Build Process
    </span>
</a>
<nav aria-label="Deployment and Build Process" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#production-build">
<span class="md-ellipsis">
      Production Build
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-with-backend">
<span class="md-ellipsis">
      Integration with Backend
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#environment-configuration">
<span class="md-ellipsis">
      Environment Configuration
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices">
<span class="md-ellipsis">
      Best Practices
    </span>
</a>
<nav aria-label="Best Practices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#component-design">
<span class="md-ellipsis">
      Component Design
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complete-example-ngram-analysis-dashboard">
<span class="md-ellipsis">
      Complete Example: Ngram Analysis Dashboard
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
<span class="md-ellipsis">
      Next Steps
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../logging/">
<span class="md-ellipsis">
    Logging
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../testing/">
<span class="md-ellipsis">
    Testing
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
<span class="md-ellipsis">
    Design Philosophy
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            Design Philosophy
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../design-philosophy/architecture/">
<span class="md-ellipsis">
    Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../design-philosophy/core-domain/">
<span class="md-ellipsis">
    Core Domain
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../design-philosophy/edge-domain/">
<span class="md-ellipsis">
    Edge Domain
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../design-philosophy/content-domain/">
<span class="md-ellipsis">
    Content Domain
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Reference (CLI)
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Reference (CLI)
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../reference/analyzer_interface/">
<span class="md-ellipsis">
    Analyzer Interface
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../reference/components/">
<span class="md-ellipsis">
    Components
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../reference/app/">
<span class="md-ellipsis">
    App
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../reference/preprocessing/">
<span class="md-ellipsis">
    Preprocessing
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../reference/terminal_tools/">
<span class="md-ellipsis">
    Terminal Tools
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../reference/importing/">
<span class="md-ellipsis">
    Importing
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../reference/meta/">
<span class="md-ellipsis">
    Meta
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../reference/storage/">
<span class="md-ellipsis">
    Storage
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../reference/testing/">
<span class="md-ellipsis">
    Testing
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#react-dashboards-guide">
<span class="md-ellipsis">
      React Dashboards Guide
    </span>
</a>
<nav aria-label="React Dashboards Guide" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
<span class="md-ellipsis">
      Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#architecture">
<span class="md-ellipsis">
      Architecture
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#setting-up-api-factory">
<span class="md-ellipsis">
      Setting Up API Factory
    </span>
</a>
<nav aria-label="Setting Up API Factory" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-api-factory">
<span class="md-ellipsis">
      Basic API Factory
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multi-output-api-factory">
<span class="md-ellipsis">
      Multi-Output API Factory
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complex-filtering-and-search">
<span class="md-ellipsis">
      Complex Filtering and Search
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-endpoints">
<span class="md-ellipsis">
      API Endpoints
    </span>
</a>
<nav aria-label="API Endpoints" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#standard-endpoints">
<span class="md-ellipsis">
      Standard Endpoints
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#download-endpoints">
<span class="md-ellipsis">
      Download Endpoints
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#react-component-architecture">
<span class="md-ellipsis">
      React Component Architecture
    </span>
</a>
<nav aria-label="React Component Architecture" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#core-component-structure">
<span class="md-ellipsis">
      Core Component Structure
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-fetching-hooks">
<span class="md-ellipsis">
      Data Fetching Hooks
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chart-components">
<span class="md-ellipsis">
      Chart Components
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interactive-data-tables">
<span class="md-ellipsis">
      Interactive Data Tables
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#search-and-filtering-components">
<span class="md-ellipsis">
      Search and Filtering Components
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#download-components">
<span class="md-ellipsis">
      Download Components
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#state-management">
<span class="md-ellipsis">
      State Management
    </span>
</a>
<nav aria-label="State Management" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#local-component-state">
<span class="md-ellipsis">
      Local Component State
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#global-state-with-zustand">
<span class="md-ellipsis">
      Global State with Zustand
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#styling-and-theming">
<span class="md-ellipsis">
      Styling and Theming
    </span>
</a>
<nav aria-label="Styling and Theming" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tailwind-css-classes">
<span class="md-ellipsis">
      Tailwind CSS Classes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dark-mode-support">
<span class="md-ellipsis">
      Dark Mode Support
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#responsive-design">
<span class="md-ellipsis">
      Responsive Design
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-optimization">
<span class="md-ellipsis">
      Performance Optimization
    </span>
</a>
<nav aria-label="Performance Optimization" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#memoization-and-optimization">
<span class="md-ellipsis">
      Memoization and Optimization
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#virtual-scrolling">
<span class="md-ellipsis">
      Virtual Scrolling
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#code-splitting">
<span class="md-ellipsis">
      Code Splitting
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-react-dashboards">
<span class="md-ellipsis">
      Testing React Dashboards
    </span>
</a>
<nav aria-label="Testing React Dashboards" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#component-testing">
<span class="md-ellipsis">
      Component Testing
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-testing">
<span class="md-ellipsis">
      Integration Testing
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#e2e-testing-with-cypress">
<span class="md-ellipsis">
      E2E Testing with Cypress
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deployment-and-build-process">
<span class="md-ellipsis">
      Deployment and Build Process
    </span>
</a>
<nav aria-label="Deployment and Build Process" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#production-build">
<span class="md-ellipsis">
      Production Build
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-with-backend">
<span class="md-ellipsis">
      Integration with Backend
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#environment-configuration">
<span class="md-ellipsis">
      Environment Configuration
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices">
<span class="md-ellipsis">
      Best Practices
    </span>
</a>
<nav aria-label="Best Practices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#component-design">
<span class="md-ellipsis">
      Component Design
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complete-example-ngram-analysis-dashboard">
<span class="md-ellipsis">
      Complete Example: Ngram Analysis Dashboard
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
<span class="md-ellipsis">
      Next Steps
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>React (WIP)</h1>
<h2 id="react-dashboards-guide">React Dashboards Guide</h2>
<p>Web presenters can create modern, client-side dashboards using React for rich interactivity and responsive user experiences. React dashboards consume data through REST APIs and provide smooth, app-like interfaces.</p>
<h3 id="overview">Overview</h3>
<p>React dashboards in this platform provide:</p>
<ul>
<li><strong>Client-side rendering</strong>: Fast, responsive user interfaces</li>
<li><strong>API-driven</strong>: Clean separation between data and presentation</li>
<li><strong>Modern UI components</strong>: Built with shadcn/ui and Tailwind CSS</li>
<li><strong>Rich visualizations</strong>: Interactive charts with Deck.gl and Visx</li>
<li><strong>Real-time interactions</strong>: Immediate feedback and smooth animations</li>
</ul>
<h3 id="architecture">Architecture</h3>
<p>React dashboards follow a three-tier architecture:</p>
<ol>
<li><strong>Web Presenter (Python)</strong>: Implements <code>api_factory</code> to serve structured data via REST API</li>
<li><strong>API Layer</strong>: Automatically generated endpoints that serve presenter data as JSON</li>
<li><strong>React Frontend</strong>: TypeScript components that consume the API and render interactive UI</li>
</ol>
<div class="mermaid">graph TB
    A[Analyzer Data] --&gt; B[Web Presenter api_factory]
    B --&gt; C[REST API Endpoints]
    C --&gt; D[React Components]
    D --&gt; E[Interactive Dashboard]
</div>
<h3 id="setting-up-api-factory">Setting Up API Factory</h3>
<p>The <code>api_factory</code> function transforms analyzer outputs into structured data for React consumption:</p>
<h4 id="basic-api-factory">Basic API Factory</h4>
<pre><code class="language-python">from typing import Optional, Any
from analyzer_interface.context import WebPresenterContext, FactoryOutputContext
from ..utils.pop import pop_unnecessary_fields

def api_factory(context: WebPresenterContext, options: Optional[dict[str, Any]] = None):
    """
    Transform analyzer data for React dashboard consumption.

    Args:
        context: Access to analyzer outputs and metadata
        options: Query parameters from API requests (filters, pagination, etc.)

    Returns:
        FactoryOutputContext with API-formatted data
    """
    # Extract API options
    filter_value = options.get("filter_value", "") if options else ""
    matcher = options.get("matcher", "") if options else ""

    # Load analyzer data
    df = pl.read_parquet(context.base.table("main_output").parquet_path)

    # Apply filtering based on API parameters
    if filter_value:
        df = df.filter(pl.col("category") == filter_value)

    if matcher:
        df = df.filter(pl.col("text_field").str.contains(matcher, literal=False))

    # Build presenter model with metadata
    presenter_model = context.web_presenter.model_dump()

    # Add visualization configuration
    presenter_model.update({
        "figure_type": "scatter",  # histogram, bar, scatter
        "axis": {
            "x": {"label": "User Count", "value": "user_count"},
            "y": {"label": "Message Count", "value": "message_count"}
        },
        "explanation": {
            "main_view": "This chart shows the relationship between users and messages..."
        }
    })

    # Add data arrays for visualization
    presenter_model["x"] = df["x_column"].to_list()
    presenter_model["y"] = df["y_column"].to_list()
    presenter_model["labels"] = df["label_column"].to_list()

    # Remove internal fields not needed by frontend
    return FactoryOutputContext(
        api=pop_unnecessary_fields(presenter_model)
    )
</code></pre>
<h4 id="multi-output-api-factory">Multi-Output API Factory</h4>
<p>For analyzers with multiple data views:</p>
<pre><code class="language-python">def api_factory(context: WebPresenterContext, options: Optional[dict[str, Any]] = None):
    # Determine which output to return
    output_type = options.get("output", "default") if options else "default"

    # Load different datasets
    df_summary = pl.read_parquet(
        context.base.table("summary_stats").parquet_path
    )
    df_details = pl.read_parquet(
        context.dependency(detail_analyzer).table("full_details").parquet_path
    )

    # Apply common filtering
    filter_value = options.get("filter_value", "") if options else ""
    if filter_value:
        df_summary = df_summary.filter(pl.col("category") == filter_value)
        df_details = df_details.filter(pl.col("category") == filter_value)

    # Create different presenter models for each output
    base_model = context.web_presenter.model_dump()

    summary_model = base_model.copy()
    summary_model.update({
        "figure_type": "scatter",
        "axis": {
            "x": {"label": "Users", "value": "user_count"},
            "y": {"label": "Messages", "value": "message_count"}
        },
        "x": df_summary["user_count"].to_list(),
        "y": df_summary["message_count"].to_list(),
        "labels": df_summary["category"].to_list()
    })

    details_model = base_model.copy()
    details_model.update({
        "figure_type": "table",
        "columns": ["user_id", "message_text", "timestamp", "category"],
        "data": df_details.to_dicts()
    })

    return FactoryOutputContext(
        api={
            "default_output": "summary",
            "summary": pop_unnecessary_fields(summary_model),
            "details": pop_unnecessary_fields(details_model)
        }
    )
</code></pre>
<h4 id="complex-filtering-and-search">Complex Filtering and Search</h4>
<pre><code class="language-python">def api_factory(context: WebPresenterContext, options: Optional[dict[str, Any]] = None):
    # Load base data
    df = pl.read_parquet(context.base.table("ngram_analysis").parquet_path)

    # Extract search/filter parameters
    search_term = options.get("matcher", "") if options else ""
    date_range = options.get("date_range") if options else None
    min_frequency = options.get("min_frequency", 0) if options else 0

    # Apply filters progressively
    if search_term:
        # Create word matcher for ngram search
        search_filter = pl.col("ngram_text").str.contains(
            search_term.lower(), literal=False
        )
        df = df.filter(search_filter)

    if date_range:
        start_date, end_date = date_range.split(",")
        df = df.filter(
            pl.col("timestamp").is_between(
                pl.datetime(start_date), 
                pl.datetime(end_date)
            )
        )

    if min_frequency &gt; 0:
        df = df.filter(pl.col("frequency") &gt;= min_frequency)

    # Sort and limit results for performance
    df = df.sort("frequency", descending=True).head(1000)

    # Build API response
    presenter_model = context.web_presenter.model_dump()
    presenter_model.update({
        "figure_type": "scatter",
        "axis": {
            "x": {"label": "User Repetition", "value": "user_repetition"},
            "y": {"label": "Total Repetition", "value": "total_repetition"}
        },
        "explanation": {
            "total_repetition": "N-grams to the right are repeated by more users...",
            "user_repetition": "N-grams higher up show higher amplification..."
        },
        # Data for visualization
        "x": df["user_count"].to_list(),
        "y": df["total_count"].to_list(),
        "ngrams": df["ngram_text"].to_list(),
        "frequencies": df["frequency"].to_list(),
        "rankings": list(range(1, len(df) + 1))
    })

    return FactoryOutputContext(
        api=pop_unnecessary_fields(presenter_model)
    )
</code></pre>
<h3 id="api-endpoints">API Endpoints</h3>
<p>The API factory data is automatically exposed through these REST endpoints:</p>
<h4 id="standard-endpoints">Standard Endpoints</h4>
<pre><code class="language-bash"># List all presenters
GET /api/presenters

# Get specific presenter data  
GET /api/presenters/{presenter_id}

# Get specific output (for multi-output presenters)
GET /api/presenters/{presenter_id}?output=details

# Apply filters
GET /api/presenters/{presenter_id}?filter_field=category&amp;filter_value=news

# Search/match text
GET /api/presenters/{presenter_id}?matcher=climate

# Combine parameters
GET /api/presenters/{presenter_id}?output=summary&amp;matcher=election&amp;min_frequency=5
</code></pre>
<h4 id="download-endpoints">Download Endpoints</h4>
<pre><code class="language-bash"># Download as CSV
GET /api/presenters/{presenter_id}/download/csv

# Download as JSON
GET /api/presenters/{presenter_id}/download/json

# Download as Excel
GET /api/presenters/{presenter_id}/download/excel

# Download with filters applied
GET /api/presenters/{presenter_id}/download/csv?filter_value=news&amp;matcher=climate 
</code></pre>
<h3 id="react-component-architecture">React Component Architecture</h3>
<p>The React frontend is organized into reusable components that work together to create cohesive dashboards:</p>
<h4 id="core-component-structure">Core Component Structure</h4>
<pre><code class="language-typescript">// Main presenter component
export default function NgramScatterPlot({ presenter }: ChartContainerProps&lt;NgramPresenterStats&gt;): ReactElement&lt;FC&gt; {
    const [searchValue, setSearchValue] = useState&lt;string&gt;('');
    const [selectedItem, setSelectedItem] = useState&lt;string&gt;('');
    const [currentTab, setCurrentTab] = useState&lt;'total_repetition' | 'amplification_factor'&gt;('total_repetition');

    // Data fetching and state management
    const { data, isLoading, error } = usePresenterData(presenter.id, {
        matcher: searchValue,
        output: currentTab
    });

    // Event handlers
    const handleSearch = (value: string) =&gt; setSearchValue(value);
    const handleItemSelect = (item: DataPoint) =&gt; setSelectedItem(item.id);
    const handleTabChange = (tab: string) =&gt; setCurrentTab(tab);

    return (
        &lt;div className="space-y-6"&gt;
            {/* Controls */}
            &lt;div className="flex justify-between items-center"&gt;
                &lt;SearchBar onSubmit={handleSearch} onClear={() =&gt; setSearchValue('')} /&gt;
                &lt;DownloadButton presenterID={presenter.id} /&gt;
            &lt;/div&gt;

            {/* Tabs for different views */}
            &lt;Tabs value={currentTab} onValueChange={handleTabChange}&gt;
                &lt;TabsList&gt;
                    &lt;TabsTrigger value="total_repetition"&gt;Total Repetition&lt;/TabsTrigger&gt;
                    &lt;TabsTrigger value="amplification_factor"&gt;Amplification&lt;/TabsTrigger&gt;
                &lt;/TabsList&gt;

                &lt;TabsContent value="total_repetition"&gt;
                    &lt;ScatterPlot 
                        data={data} 
                        onItemClick={handleItemSelect}
                        tooltip={createTooltipFormatter('total_repetition')} 
                    /&gt;
                &lt;/TabsContent&gt;

                &lt;TabsContent value="amplification_factor"&gt;
                    &lt;ScatterPlot 
                        data={data} 
                        onItemClick={handleItemSelect}
                        tooltip={createTooltipFormatter('amplification_factor')} 
                    /&gt;
                &lt;/TabsContent&gt;
            &lt;/Tabs&gt;

            {/* Data table */}
            &lt;DataTable 
                data={data}
                columns={tableColumns}
                onRowSelect={handleItemSelect}
                selectedRows={selectedItem ? [selectedItem] : []}
            /&gt;
        &lt;/div&gt;
    );
}
</code></pre>
<h4 id="data-fetching-hooks">Data Fetching Hooks</h4>
<p>Custom hooks manage API communication and state:</p>
<pre><code class="language-typescript">// hooks/usePresenterData.ts
import { useState, useEffect } from 'react';
import { fetchPresenter } from '@/lib/data/presenters';

interface UsePresenterDataOptions {
    matcher?: string;
    output?: string;
    filter_field?: string;
    filter_value?: string;
    enabled?: boolean;
}

export function usePresenterData&lt;T extends Presenter&gt;(
    presenterId: string, 
    options: UsePresenterDataOptions = {}
) {
    const [data, setData] = useState&lt;T | null&gt;(null);
    const [isLoading, setIsLoading] = useState(false);
    const [error, setError] = useState&lt;string | null&gt;(null);

    useEffect(() =&gt; {
        if (!options.enabled &amp;&amp; options.enabled !== undefined) return;

        const controller = new AbortController();

        const loadData = async () =&gt; {
            setIsLoading(true);
            setError(null);

            try {
                const result = await fetchPresenter(
                    presenterId, 
                    controller.signal, 
                    options
                );

                if (result) {
                    setData(result);
                } else {
                    setError('Failed to load data');
                }
            } catch (err) {
                if (!controller.signal.aborted) {
                    setError(err instanceof Error ? err.message : 'Unknown error');
                }
            } finally {
                setIsLoading(false);
            }
        };

        loadData();

        return () =&gt; controller.abort();
    }, [presenterId, options.matcher, options.output, options.filter_value, options.enabled]);

    return { data, isLoading, error };
}
</code></pre>
<h4 id="chart-components">Chart Components</h4>
<p>Interactive visualizations using Deck.gl:</p>
<pre><code class="language-typescript">// components/charts/scatter.tsx
import { useMemo, useRef, useState } from 'react';
import { ScatterplotLayer } from '@deck.gl/layers';
import { COORDINATE_SYSTEM } from '@deck.gl/core';
import DeckGL from '@deck.gl/react';
import { AxisLeft, AxisBottom } from '@visx/axis';
import useChart from '@/lib/hooks/chart';

interface ScatterPlotProps {
    data: Array&lt;DataPoint&gt;;
    onItemClick?: (item: PickingInfo&lt;DataPoint&gt;) =&gt; void;
    tooltip: TooltipFunction&lt;DataPoint&gt;;
    darkMode?: boolean;
    dimensions?: Dimensions;
}

export default function ScatterPlot({
    data,
    onItemClick,
    tooltip,
    darkMode = false,
    dimensions = { width: 800, height: 600, margins: { top: 20, right: 40, bottom: 40, left: 60 }}
}: ScatterPlotProps) {
    const deckRef = useRef&lt;DeckGLRef | null&gt;(null);
    const [deckInstance, setDeckInstance] = useState&lt;Deck | null&gt;(null);

    // Custom hook handles coordinate transformation and scaling
    const { data: plotData, deckProps, axis, viewport } = useChart(
        data,
        tooltip,
        deckInstance,
        true, // resetZoomOnChange
        { x: { type: 'log', show: true }, y: { type: 'log', show: true } },
        dimensions
    );

    // Create Deck.gl layers
    const layers = useMemo(() =&gt; [
        new ScatterplotLayer({
            id: 'scatter-points',
            data: plotData,
            pickable: true,
            opacity: 0.8,
            stroked: false,
            filled: true,
            radiusScale: 6,
            radiusMinPixels: 2,
            radiusMaxPixels: 8,
            coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,
            getPosition: (d: any) =&gt; d.position,
            getFillColor: (d: any) =&gt; d.color,
            updateTriggers: {
                getFillColor: [darkMode, viewport.viewState.zoom]
            },
            transitions: {
                getPosition: { duration: 300, type: 'spring' },
                getFillColor: { duration: 200 }
            }
        })
    ], [plotData, darkMode, viewport.viewState.zoom]);

    return (
        &lt;div className="relative"&gt;
            {/* Zoom controls */}
            &lt;div className="absolute top-4 right-4 z-10"&gt;
                &lt;ToolBox 
                    features={['zoom', 'restore']}
                    zoomIncrement={viewport.hooks.increment}
                    zoomDecrement={viewport.hooks.decrement}
                    zoomReset={viewport.hooks.reset}
                /&gt;
            &lt;/div&gt;

            {/* Main chart area */}
            &lt;div style={{ position: 'relative', width: dimensions.width, height: dimensions.height }}&gt;
                &lt;DeckGL
                    ref={deckRef}
                    {...deckProps}
                    layers={layers}
                    onClick={onItemClick}
                    onAfterRender={() =&gt; {
                        if (deckRef.current?.deck &amp;&amp; !deckInstance) {
                            setDeckInstance(deckRef.current.deck);
                        }
                    }}
                /&gt;

                {/* Axes overlay */}
                &lt;svg width={dimensions.width} height={dimensions.height}&gt;
                    &lt;AxisBottom
                        scale={axis.x.scale}
                        top={dimensions.height - dimensions.margins.bottom}
                        tickLabelProps={{
                            fill: darkMode ? '#fff' : '#000',
                            fontSize: 10,
                            textAnchor: 'middle'
                        }}
                        stroke={darkMode ? '#fff' : '#000'}
                        tickStroke={darkMode ? '#fff' : '#000'}
                    /&gt;
                    &lt;AxisLeft
                        scale={axis.y.scale}
                        left={dimensions.margins.left}
                        tickLabelProps={{
                            fill: darkMode ? '#fff' : '#000',
                            fontSize: 10,
                            textAnchor: 'end'
                        }}
                        stroke={darkMode ? '#fff' : '#000'}
                        tickStroke={darkMode ? '#fff' : '#000'}
                    /&gt;
                &lt;/svg&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
}
</code></pre>
<h4 id="interactive-data-tables">Interactive Data Tables</h4>
<p>Rich data tables with selection and filtering:</p>
<pre><code class="language-typescript">// components/data_table.tsx
import { useMemo, useCallback, useState, useEffect } from 'react';
import { DataEditor, GridCellKind, CompactSelection } from '@glideapps/glide-data-grid';

interface DataTableProps&lt;T extends BaseRow&gt; {
    data: Array&lt;T&gt;;
    columns: Array&lt;GridColumn&gt;;
    onRowSelect?: (item: T | null, selection?: GridSelection) =&gt; void;
    selectedRows?: CompactSelection;
    darkMode?: boolean;
    theme?: Partial&lt;Theme&gt;;
}

export default function DataTable&lt;T extends BaseRow&gt;({
    data,
    columns,
    onRowSelect,
    selectedRows,
    darkMode = false,
    theme
}: DataTableProps&lt;T&gt;) {
    const [gridSelection, setGridSelection] = useState&lt;GridSelection&gt;({
        columns: CompactSelection.empty(),
        rows: selectedRows ?? CompactSelection.empty()
    });

    // Column mapping for data access
    const columnIds = useMemo(() =&gt; 
        columns.map(col =&gt; col.id).filter(Boolean) as string[]
    , [columns]);

    // Cell content renderer
    const getCellContent = useCallback(([col, row]: Item): GridCell =&gt; {
        const item = data[row];
        const columnId = columnIds[col];
        const value = item[columnId];

        // Determine cell type based on value
        let cellType = GridCellKind.Text;
        if (typeof value === 'number') cellType = GridCellKind.Number;
        if (typeof value === 'boolean') cellType = GridCellKind.Boolean;

        return {
            kind: cellType,
            allowOverlay: false,
            displayData: String(value ?? ''),
            data: value
        };
    }, [data, columnIds]);

    // Selection handler
    const handleSelectionChange = useCallback((selection: GridSelection) =&gt; {
        setGridSelection(selection);

        const selectedRow = selection.rows.first();
        const item = selectedRow !== undefined ? data[selectedRow] : null;

        onRowSelect?.(item, selection);
    }, [data, onRowSelect]);

    // Theme configuration
    const tableTheme = useMemo(() =&gt; {
        if (theme) return theme;

        return darkMode ? {
            accentColor: '#8c96ff',
            textDark: '#ffffff',
            textMedium: '#b8b8b8',
            bgCell: '#16161b',
            bgHeader: '#212121',
            borderColor: 'rgba(225,225,225,0.2)',
            fontFamily: 'Inter, sans-serif'
        } : {};
    }, [darkMode, theme]);

    // Sync external selection changes
    useEffect(() =&gt; {
        if (selectedRows &amp;&amp; !selectedRows.equals(gridSelection.rows)) {
            setGridSelection(prev =&gt; ({ ...prev, rows: selectedRows }));
        }
    }, [selectedRows]);

    return (
        &lt;DataEditor
            width="100%"
            height="50rem"
            className="rounded-md border shadow-md"
            columns={columns}
            rows={data.length}
            getCellContent={getCellContent}
            gridSelection={gridSelection}
            onGridSelectionChange={handleSelectionChange}
            theme={tableTheme}
            rowSelect="single"
            rowMarkers="checkbox-visible"
        /&gt;
    );
}
</code></pre>
<h4 id="search-and-filtering-components">Search and Filtering Components</h4>
<p>Reusable search components with autocomplete:</p>
<pre><code class="language-typescript">// components/search.tsx
import { useState, useEffect, useMemo } from 'react';
import { useVirtualizer } from '@tanstack/react-virtual';
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';
import { X } from 'lucide-react';

interface SearchBarProps {
    searchList: Array&lt;string&gt;;
    onSubmit: (value: string) =&gt; void;
    onClear?: () =&gt; void;
    placeholder?: string;
    maxSuggestions?: number;
}

export default function SearchBar({ 
    searchList, 
    onSubmit, 
    onClear, 
    placeholder = "Search...",
    maxSuggestions = 100
}: SearchBarProps) {
    const [value, setValue] = useState('');
    const [showSuggestions, setShowSuggestions] = useState(false);
    const containerRef = useRef&lt;HTMLDivElement&gt;(null);

    // Filter suggestions based on input
    const suggestions = useMemo(() =&gt; {
        if (!value) return [];

        return searchList
            .filter(item =&gt; item.toLowerCase().includes(value.toLowerCase()))
            .slice(0, maxSuggestions);
    }, [value, searchList, maxSuggestions]);

    // Virtual scrolling for large suggestion lists
    const virtualizer = useVirtualizer({
        count: suggestions.length,
        getScrollElement: () =&gt; containerRef.current,
        estimateSize: () =&gt; 35
    });

    const handleSubmit = (e: FormEvent) =&gt; {
        e.preventDefault();
        onSubmit(value);
        setShowSuggestions(false);
    };

    const handleSuggestionClick = (suggestion: string) =&gt; {
        setValue(suggestion);
        onSubmit(suggestion);
        setShowSuggestions(false);
    };

    const handleClear = () =&gt; {
        setValue('');
        onClear?.();
    };

    // Show/hide suggestions based on focus and value
    useEffect(() =&gt; {
        setShowSuggestions(suggestions.length &gt; 0 &amp;&amp; value.length &gt; 0);
    }, [suggestions.length, value.length]);

    return (
        &lt;form onSubmit={handleSubmit} className="relative"&gt;
            &lt;div className="flex items-center space-x-2"&gt;
                &lt;Input
                    type="text"
                    value={value}
                    onChange={(e) =&gt; setValue(e.target.value)}
                    placeholder={placeholder}
                    className="w-80"
                    onFocus={() =&gt; suggestions.length &gt; 0 &amp;&amp; setShowSuggestions(true)}
                    onBlur={() =&gt; setTimeout(() =&gt; setShowSuggestions(false), 150)}
                /&gt;
                {value &amp;&amp; (
                    &lt;Button
                        type="button"
                        variant="ghost"
                        size="icon"
                        onClick={handleClear}
                    &gt;
                        &lt;X className="h-4 w-4" /&gt;
                    &lt;/Button&gt;
                )}
            &lt;/div&gt;

            {/* Suggestions dropdown */}
            {showSuggestions &amp;&amp; (
                &lt;div
                    ref={containerRef}
                    className="absolute z-50 w-80 max-h-96 mt-1 bg-white border rounded-md shadow-lg overflow-auto dark:bg-zinc-950 dark:border-zinc-800"
                &gt;
                    &lt;div
                        style={{ height: virtualizer.getTotalSize() }}
                        className="relative"
                    &gt;
                        {virtualizer.getVirtualItems().map((item) =&gt; (
                            &lt;div
                                key={item.key}
                                className="absolute w-full px-3 py-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-800"
                                style={{
                                    height: item.size,
                                    transform: `translateY(${item.start}px)`
                                }}
                                onMouseDown={() =&gt; handleSuggestionClick(suggestions[item.index])}
                            &gt;
                                {suggestions[item.index]}
                            &lt;/div&gt;
                        ))}
                    &lt;/div&gt;
                &lt;/div&gt;
            )}
        &lt;/form&gt;
    );
}
</code></pre>
<h4 id="download-components">Download Components</h4>
<p>Export functionality for data:</p>
<pre><code class="language-typescript">// components/download.tsx
import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu';
import { Sheet, Braces, Table, ChevronDown } from 'lucide-react';
import { createDownloadLink } from '@/lib/data/download';

interface DownloadButtonProps {
    presenterID: string;
    queryParams?: PresenterQueryParams;
    label?: string;
}

export function DownloadButton({ 
    presenterID, 
    queryParams, 
    label = "Export" 
}: DownloadButtonProps) {
    const [isOpen, setIsOpen] = useState(false);

    const downloadFormats = [
        { type: 'excel', icon: Sheet, label: 'Excel', extension: '.xlsx' },
        { type: 'csv', icon: Table, label: 'CSV', extension: '.csv' },
        { type: 'json', icon: Braces, label: 'JSON', extension: '.json' }
    ] as const;

    return (
        &lt;DropdownMenu open={isOpen} onOpenChange={setIsOpen}&gt;
            &lt;DropdownMenuTrigger asChild&gt;
                &lt;Button variant="outline" size="sm"&gt;
                    {label}
                    &lt;ChevronDown className={`ml-2 h-4 w-4 transition-transform ${isOpen ? 'rotate-180' : ''}`} /&gt;
                &lt;/Button&gt;
            &lt;/DropdownMenuTrigger&gt;

            &lt;DropdownMenuContent align="end"&gt;
                {downloadFormats.map(({ type, icon: Icon, label: formatLabel }) =&gt; (
                    &lt;DropdownMenuItem key={type} asChild&gt;
                        &lt;a
                            href={createDownloadLink(presenterID, type, queryParams)}
                            target="_blank"
                            rel="noopener noreferrer"
                            className="flex items-center w-full"
                        &gt;
                            &lt;Icon className="mr-2 h-4 w-4" /&gt;
                            {formatLabel}
                        &lt;/a&gt;
                    &lt;/DropdownMenuItem&gt;
                ))}
            &lt;/DropdownMenuContent&gt;
        &lt;/DropdownMenu&gt;
    );
}
</code></pre>
<h3 id="state-management">State Management</h3>
<h4 id="local-component-state">Local Component State</h4>
<p>For simple interactions, use React's built-in state:</p>
<pre><code class="language-typescript">function NgramDashboard({ presenter }: DashboardProps) {
    // UI state
    const [searchTerm, setSearchTerm] = useState('');
    const [selectedTab, setSelectedTab] = useState&lt;TabType&gt;('overview');
    const [selectedItems, setSelectedItems] = useState&lt;string[]&gt;([]);

    // Data state with custom hook
    const { data, isLoading, error } = usePresenterData(presenter.id, {
        matcher: searchTerm,
        output: selectedTab
    });

    // Derived state
    const filteredData = useMemo(() =&gt; {
        if (!data || !searchTerm) return data;
        return data.filter(item =&gt; 
            item.text.toLowerCase().includes(searchTerm.toLowerCase())
        );
    }, [data, searchTerm]);

    // Event handlers
    const handleSearch = useCallback((term: string) =&gt; {
        setSearchTerm(term);
        setSelectedItems([]); // Clear selection on new search
    }, []);

    return (
        // Component JSX
    );
}
</code></pre>
<h4 id="global-state-with-zustand">Global State with Zustand</h4>
<p>For complex dashboards with shared state:</p>
<pre><code class="language-typescript">// stores/dashboardStore.ts
import { create } from 'zustand';

interface DashboardState {
    // Data
    presenters: PresenterCollection;
    currentPresenter: Presenter | null;

    // UI state
    sidebarOpen: boolean;
    theme: 'light' | 'dark' | 'system';

    // Filters
    globalFilters: {
        dateRange?: [Date, Date];
        categories: string[];
        searchTerm: string;
    };

    // Actions
    setCurrentPresenter: (presenter: Presenter) =&gt; void;
    updateFilters: (filters: Partial&lt;DashboardState['globalFilters']&gt;) =&gt; void;
    toggleSidebar: () =&gt; void;
}

export const useDashboardStore = create&lt;DashboardState&gt;((set, get) =&gt; ({
    presenters: [],
    currentPresenter: null,
    sidebarOpen: true,
    theme: 'system',
    globalFilters: {
        categories: [],
        searchTerm: ''
    },

    setCurrentPresenter: (presenter) =&gt; set({ currentPresenter: presenter }),

    updateFilters: (newFilters) =&gt; set(state =&gt; ({
        globalFilters: { ...state.globalFilters, ...newFilters }
    })),

    toggleSidebar: () =&gt; set(state =&gt; ({ sidebarOpen: !state.sidebarOpen }))
}));

// Usage in components
function Dashboard() {
    const { currentPresenter, globalFilters, updateFilters } = useDashboardStore();

    const handleSearch = (searchTerm: string) =&gt; {
        updateFilters({ searchTerm });
    };

    return (
        // Dashboard JSX
    );
}
</code></pre>
<h3 id="styling-and-theming">Styling and Theming</h3>
<h4 id="tailwind-css-classes">Tailwind CSS Classes</h4>
<p>The project uses Tailwind CSS for utility-first styling:</p>
<pre><code class="language-typescript">// Layout utilities
&lt;div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"&gt;
    &lt;div className="col-span-full lg:col-span-2"&gt;
        {/* Main content */}
    &lt;/div&gt;
    &lt;div className="lg:col-span-1"&gt;
        {/* Sidebar */}
    &lt;/div&gt;
&lt;/div&gt;

// Component styling
&lt;Card className="p-6 shadow-lg border-zinc-200 dark:border-zinc-800"&gt;
    &lt;CardHeader className="pb-4"&gt;
        &lt;CardTitle className="text-lg font-semibold text-zinc-900 dark:text-zinc-100"&gt;
            Chart Title
        &lt;/CardTitle&gt;
    &lt;/CardHeader&gt;
    &lt;CardContent&gt;
        {/* Chart content */}
    &lt;/CardContent&gt;
&lt;/Card&gt;

// Interactive states
&lt;Button 
    variant="outline" 
    className="hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors"
    disabled={isLoading}
&gt;
    {isLoading ? &lt;Spinner className="mr-2" /&gt; : null}
    Load Data
&lt;/Button&gt;
</code></pre>
<h4 id="dark-mode-support">Dark Mode Support</h4>
<p>Dark mode is handled through CSS custom properties and Tailwind's dark variant:</p>
<pre><code class="language-typescript">// Theme provider context
export function ThemeProvider({ children, defaultTheme = "system" }) {
    const [theme, setTheme] = useState&lt;Theme&gt;(defaultTheme);

    useEffect(() =&gt; {
        const root = window.document.documentElement;
        root.classList.remove("light", "dark");

        if (theme === "system") {
            const systemTheme = window.matchMedia("(prefers-color-scheme: dark)").matches 
                ? "dark" : "light";
            root.classList.add(systemTheme);
        } else {
            root.classList.add(theme);
        }
    }, [theme]);

    return (
        &lt;ThemeContext.Provider value={{ theme, setTheme }}&gt;
            {children}
        &lt;/ThemeContext.Provider&gt;
    );
}

// Usage in components
function Chart({ data }: ChartProps) {
    const { theme } = useTheme();
    const isDark = theme === 'dark' || 
        (theme === 'system' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches);

    return (
        &lt;ScatterPlot 
            data={data}
            darkMode={isDark}
            // Colors adapt automatically through Tailwind dark: variants
        /&gt;
    );
}
</code></pre>
<h4 id="responsive-design">Responsive Design</h4>
<p>Components adapt to different screen sizes:</p>
<pre><code class="language-typescript">&lt;div className="space-y-6"&gt;
    {/* Mobile-first responsive grid */}
    &lt;div className="grid grid-cols-1 lg:grid-cols-4 gap-4"&gt;
        &lt;div className="lg:col-span-3"&gt;
            {/* Chart takes full width on mobile, 3/4 on desktop */}
            &lt;ScatterPlot data={data} /&gt;
        &lt;/div&gt;
        &lt;div className="lg:col-span-1"&gt;
            {/* Controls stack below chart on mobile, sidebar on desktop */}
            &lt;div className="space-y-4"&gt;
                &lt;SearchBar onSubmit={handleSearch} /&gt;
                &lt;FilterControls /&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    {/* Table with horizontal scroll on mobile */}
    &lt;div className="overflow-x-auto"&gt;
        &lt;DataTable 
            data={data}
            className="min-w-[600px]" 
        /&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<h3 id="performance-optimization">Performance Optimization</h3>
<h4 id="memoization-and-optimization">Memoization and Optimization</h4>
<pre><code class="language-typescript">// Memoize expensive calculations
const processedData = useMemo(() =&gt; {
    if (!rawData) return [];

    return rawData
        .filter(item =&gt; item.value &gt; threshold)
        .sort((a, b) =&gt; b.value - a.value)
        .slice(0, maxItems);
}, [rawData, threshold, maxItems]);

// Memoize callback functions
const handleItemClick = useCallback((item: DataPoint) =&gt; {
    setSelectedItem(item);
    onItemSelect?.(item);
}, [onItemSelect]);

// Memoize complex components
const ChartComponent = memo(({ data, options }: ChartProps) =&gt; {
    return &lt;ExpensiveChart data={data} options={options} /&gt;;
});
</code></pre>
<h4 id="virtual-scrolling">Virtual Scrolling</h4>
<p>For large datasets, implement virtual scrolling:</p>
<pre><code class="language-typescript">import { useVirtualizer } from '@tanstack/react-virtual';

function VirtualTable({ data }: { data: Array&lt;any&gt; }) {
    const containerRef = useRef&lt;HTMLDivElement&gt;(null);

    const virtualizer = useVirtualizer({
        count: data.length,
        getScrollElement: () =&gt; containerRef.current,
        estimateSize: () =&gt; 50, // Row height
        overscan: 10 // Render extra items for smooth scrolling
    });

    return (
        &lt;div ref={containerRef} className="h-96 overflow-auto"&gt;
            &lt;div style={{ height: virtualizer.getTotalSize() }}&gt;
                {virtualizer.getVirtualItems().map((item) =&gt; (
                    &lt;div
                        key={item.key}
                        style={{
                            position: 'absolute',
                            top: 0,
                            left: 0,
                            width: '100%',
                            height: item.size,
                            transform: `translateY(${item.start}px)`
                        }}
                    &gt;
                        &lt;TableRow data={data[item.index]} /&gt;
                    &lt;/div&gt;
                ))}
            &lt;/div&gt;
        &lt;/div&gt;
    );
}
</code></pre>
<h4 id="code-splitting">Code Splitting</h4>
<p>Split large components with lazy loading:</p>
<pre><code class="language-typescript">// Lazy load heavy visualization components
const AdvancedChart = lazy(() =&gt; import('@/components/charts/advanced-chart'));
const ComplexTable = lazy(() =&gt; import('@/components/tables/complex-table'));

function Dashboard() {
    return (
        &lt;Suspense fallback={&lt;div&gt;Loading chart...&lt;/div&gt;}&gt;
            &lt;AdvancedChart data={data} /&gt;
        &lt;/Suspense&gt;
    );
}
</code></pre>
<h3 id="testing-react-dashboards">Testing React Dashboards</h3>
<h4 id="component-testing">Component Testing</h4>
<pre><code class="language-typescript">// __tests__/components/SearchBar.test.tsx
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import SearchBar from '@/components/search';

describe('SearchBar', () =&gt; {
    const mockSubmit = jest.fn();
    const mockClear = jest.fn();
    const searchList = ['apple', 'banana', 'cherry', 'date'];

    beforeEach(() =&gt; {
        jest.clearAllMocks();
    });

    test('renders with placeholder', () =&gt; {
        render(
            &lt;SearchBar 
                searchList={searchList}
                onSubmit={mockSubmit}
                placeholder="Search fruits..."
            /&gt;
        );

        expect(screen.getByPlaceholderText('Search fruits...')).toBeInTheDocument();
    });

    test('shows suggestions when typing', async () =&gt; {
        const user = userEvent.setup();

        render(
            &lt;SearchBar searchList={searchList} onSubmit={mockSubmit} /&gt;
        );

        const input = screen.getByRole('textbox');
        await user.type(input, 'a');

        await waitFor(() =&gt; {
            expect(screen.getByText('apple')).toBeInTheDocument();
            expect(screen.getByText('banana')).toBeInTheDocument();
        });
    });

    test('calls onSubmit when form submitted', async () =&gt; {
        const user = userEvent.setup();

        render(
            &lt;SearchBar searchList={searchList} onSubmit={mockSubmit} /&gt;
        );

        const input = screen.getByRole('textbox');
        await user.type(input, 'apple');
        await user.keyboard('{Enter}');

        expect(mockSubmit).toHaveBeenCalledWith('apple');
    });
});
</code></pre>
<h4 id="integration-testing">Integration Testing</h4>
<pre><code class="language-typescript">// __tests__/integration/Dashboard.test.tsx
import { render, screen, waitFor } from '@testing-library/react';
import { rest } from 'msw';
import { setupServer } from 'msw/node';
import Dashboard from '@/components/dashboard';

// Mock API server
const server = setupServer(
    rest.get('/api/presenters/:id', (req, res, ctx) =&gt; {
        return res(ctx.json({
            id: 'test-presenter',
            name: 'Test Presenter',
            data: [
                { x: 1, y: 2, label: 'Point 1' },
                { x: 3, y: 4, label: 'Point 2' }
            ]
        }));
    })
);

beforeAll(() =&gt; server.listen());
afterEach(() =&gt; server.resetHandlers());
afterAll(() =&gt; server.close());

test('loads and displays data', async () =&gt; {
    render(&lt;Dashboard presenterId="test-presenter" /&gt;);

    // Initially shows loading
    expect(screen.getByText(/loading/i)).toBeInTheDocument();

    // After API call, shows data
    await waitFor(() =&gt; {
        expect(screen.getByText('Test Presenter')).toBeInTheDocument();
    });

    // Chart renders with data points
    expect(screen.getByText('Point 1')).toBeInTheDocument();
    expect(screen.getByText('Point 2')).toBeInTheDocument();
});

test('handles API errors gracefully', async () =&gt; {
    server.use(
        rest.get('/api/presenters/:id', (req, res, ctx) =&gt; {
            return res(ctx.status(500), ctx.json({ error: 'Server error' }));
        })
    );

    render(&lt;Dashboard presenterId="test-presenter" /&gt;);

    await waitFor(() =&gt; {
        expect(screen.getByText(/error loading data/i)).toBeInTheDocument();
    });
});
</code></pre>
<h4 id="e2e-testing-with-cypress">E2E Testing with Cypress</h4>
<pre><code class="language-typescript">// cypress/integration/dashboard.spec.ts
describe('Dashboard Interaction', () =&gt; {
    beforeEach(() =&gt; {
        cy.intercept('GET', '/api/presenters/ngram-analysis', { 
            fixture: 'ngram-data.json' 
        }).as('getNgramData');

        cy.visit('/dashboard/ngram-analysis');
        cy.wait('@getNgramData');
    });

    it('allows searching and filtering data', () =&gt; {
        // Search for specific terms
        cy.get('[data-testid="search-input"]').type('climate');
        cy.get('[data-testid="search-submit"]').click();

        // Verify results update
        cy.get('[data-testid="chart-points"]').should('have.length.lessThan', 100);
        cy.get('[data-testid="data-table"]').should('contain', 'climate');

        // Clear search
        cy.get('[data-testid="search-clear"]').click();
        cy.get('[data-testid="chart-points"]').should('have.length.greaterThan', 100);
    });

    it('supports chart interactions', () =&gt; {
        // Click on chart point
        cy.get('[data-testid="chart-container"]').click(300, 200);

        // Verify tooltip appears
        cy.get('[data-testid="tooltip"]').should('be.visible');
        cy.get('[data-testid="tooltip"]').should('contain', 'Ranking:');

        // Verify data table selection updates
        cy.get('[data-testid="data-table"] .selected-row').should('exist');
    });

    it('downloads data in different formats', () =&gt; {
        // Open download menu
        cy.get('[data-testid="download-button"]').click();

        // Download CSV
        cy.get('[data-testid="download-csv"]').click();
        cy.readFile('cypress/downloads/data.csv').should('exist');

        // Download JSON
        cy.get('[data-testid="download-button"]').click();
        cy.get('[data-testid="download-json"]').click();
        cy.readFile('cypress/downloads/data.json').should('exist');
    });
});
</code></pre>
<h3 id="deployment-and-build-process">Deployment and Build Process</h3>
<h4 id="production-build">Production Build</h4>
<p>The React dashboard builds as static assets:</p>
<pre><code class="language-bash"># Build for production
npm run build

# Outputs to app/web_templates/build/
# - bundled/ (JS/CSS assets)
# - manifest.json (asset mapping)
</code></pre>
<h4 id="integration-with-backend">Integration with Backend</h4>
<p>The Python backend serves the React app:</p>
<pre><code class="language-python"># Backend integration
from pathlib import Path
import json

# Load build manifest
manifest_path = Path("web_templates/build/manifest.json")
with open(manifest_path) as f:
    manifest = json.load(f)

# Serve React app
@app.route("/")
def dashboard():
    return render_template(
        "index.html",
        js_files=get_js_files(manifest),
        css_files=get_css_files(manifest),
        project_name=config.PROJECT_NAME
    )
</code></pre>
<h4 id="environment-configuration">Environment Configuration</h4>
<pre><code class="language-typescript">// Environment variables for different deployments
const config = {
    API_BASE_URL: process.env.REACT_APP_API_URL || 'http://localhost:8050',
    ENABLE_DEV_TOOLS: process.env.NODE_ENV === 'development',
    VERSION: process.env.REACT_APP_VERSION || '1.0.0'
};

// API client configuration
const apiClient = axios.create({
    baseURL: config.API_BASE_URL,
    timeout: 30000,
    headers: {
        'Content-Type': 'application/json'
    }
});
</code></pre>
<h3 id="best-practices">Best Practices</h3>
<h4 id="component-design">Component Design</h4>
<pre><code class="language-typescript">// 1. Keep components focused and single-purpose
function ChartControls({ onFilterChange, onExport }: ChartControlsProps): ReactElement&lt;FC&gt; {
    // Only handle UI controls, delegate data management
    return (
        &lt;div className="flex gap-4"&gt;
            &lt;SearchBar onSubmit={(term) =&gt; onFilterChange({ search: term })} /&gt;
            &lt;ExportButton onExport={onExport} /&gt;
        &lt;/div&gt;
    );
}

// 2. Use composition over inheritance
function Dashboard({ children }: PropsWithChildren): ReactElement&lt;FC&gt; {
    return (
        &lt;div className="dashboard-layout"&gt;
            &lt;Sidebar /&gt;
            &lt;main className="main-content"&gt;
                {children}
            &lt;/main&gt;
        &lt;/div&gt;
    );
}

// Usage
&lt;Dashboard&gt;
    &lt;ChartContainer&gt;
        &lt;ScatterPlot data={data} /&gt;
        &lt;DataTable data={data} /&gt;
    &lt;/ChartContainer&gt;
&lt;/Dashboard&gt;

// 3. Extract custom hooks for reusable logic
function useChartData(presenterId: string, filters: Filters) {
    const [data, setData] = useState(null);
    const [isLoading, setIsLoading] = useState(false);

    useEffect(() =&gt; {
        // Data fetching logic
    }, [presenterId, filters]);

    return { data, isLoading, refetch: () =&gt; setData(null) };
}
</code></pre>
<h3 id="complete-example-ngram-analysis-dashboard">Complete Example: Ngram Analysis Dashboard</h3>
<p>Here's a complete example showing all concepts together:</p>
<pre><code class="language-typescript">// components/ngram-dashboard.tsx
import { useState, useEffect, useMemo, useCallback } from 'react';
import { useTheme } from '@/components/theme-provider';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Info } from 'lucide-react';
import { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip';

import ScatterPlot from '@/components/charts/scatter';
import DataTable from '@/components/data-table';
import SearchBar from '@/components/search';
import { DownloadButton } from '@/components/download';
import { usePresenterData } from '@/hooks/usePresenterData';

interface NgramDashboardProps {
    presenter: NgramPresenter;
}

export default function NgramDashboard({ presenter }: NgramDashboardProps) {
    // State management
    const [searchTerm, setSearchTerm] = useState('');
    const [selectedNgram, setSelectedNgram] = useState('');
    const [currentTab, setCurrentTab] = useState&lt;'total_repetition' | 'amplification_factor'&gt;('total_repetition');
    const [selectedRows, setSelectedRows] = useState&lt;CompactSelection&gt;(CompactSelection.empty());

    // Theme
    const { theme } = useTheme();
    const isDark = theme === 'dark' || 
        (theme === 'system' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches);

    // Data fetching
    const { data: summaryData, isLoading } = usePresenterData(presenter.id, {
        output: 'summary',
        matcher: searchTerm
    });

    const { data: detailData } = usePresenterData(presenter.id, {
        output: 'details',
        filter_field: 'ngram',
        filter_value: selectedNgram
    }, { enabled: !!selectedNgram });

    // Computed values
    const currentData = useMemo(() =&gt; {
        if (!summaryData) return [];

        return summaryData.map((item, index) =&gt; ({
            ...item,
            ranking: index + 1,
            y: currentTab === 'total_repetition' 
                ? item.total_repetition 
                : item.amplification_factor
        }));
    }, [summaryData, currentTab]);

    const tableColumns = useMemo(() =&gt; {
        if (selectedNgram &amp;&amp; detailData) {
            return [
                { id: 'ngram', title: 'N-gram', width: 200 },
                { id: 'user', title: 'User', width: 150 },
                { id: 'userReps', title: 'User Reps', width: 100 },
                { id: 'message', title: 'Message', width: 400 },
                { id: 'timestamp', title: 'Timestamp', width: 200 }
            ];
        }

        return [
            { id: 'ranking', title: 'Rank', width: 80 },
            { id: 'ngram', title: 'N-gram', width: 300 },
            { id: 'x', title: 'User Count', width: 120 },
            { 
                id: 'y', 
                title: currentTab === 'total_repetition' ? 'Total Reps' : 'Amplification',
                width: 120 
            }
        ];
    }, [selectedNgram, detailData, currentTab]);

    // Event handlers
    const handleSearch = useCallback((term: string) =&gt; {
        setSearchTerm(term);
        setSelectedNgram(''); // Clear selection when searching
    }, []);

    const handleSearchClear = useCallback(() =&gt; {
        setSearchTerm('');
        setSelectedNgram('');
    }, []);

    const handleChartClick = useCallback((info: PickingInfo&lt;DataPoint&gt;) =&gt; {
        if (info.object) {
            setSelectedNgram(info.object.ngram);
        }
    }, []);

    const handleTableSelect = useCallback((item: DataPoint | null, selection?: GridSelection) =&gt; {
        if (item) {
            setSelectedNgram(item.ngram);
        }
        if (selection) {
            setSelectedRows(selection.rows);
        }
    }, []);

    const handleTabChange = useCallback((tab: string) =&gt; {
        setCurrentTab(tab as typeof currentTab);
    }, []);

    // Tooltip formatters
    const createTooltipFormatter = useCallback((type: string) =&gt; (params: DataPoint) =&gt; `
        &lt;div class="space-y-2"&gt;
            &lt;div class="font-bold"&gt;${params.ngram}&lt;/div&gt;
            &lt;div&gt;Ranking: ${params.ranking}&lt;/div&gt;
            &lt;div&gt;User Count: ${params.x}&lt;/div&gt;
            &lt;div&gt;${type === 'total_repetition' ? 'Total Reps' : 'Amplification'}: ${params.y}&lt;/div&gt;
        &lt;/div&gt;
    `, []);

    // Loading state
    if (isLoading) {
        return (
            &lt;Card&gt;
                &lt;CardContent className="flex items-center justify-center h-96"&gt;
                    &lt;div className="text-center"&gt;
                        &lt;div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"&gt;&lt;/div&gt;
                        &lt;p&gt;Loading dashboard...&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/CardContent&gt;
            &lt;/Card&gt;
        );
    }

    return (
        &lt;Card&gt;
            &lt;CardContent className="space-y-6"&gt;
                &lt;Tabs value={currentTab} onValueChange={handleTabChange}&gt;
                    &lt;div className="flex items-center justify-between"&gt;
                        &lt;TabsList&gt;
                            &lt;TabsTrigger value="total_repetition"&gt;Total Repetition&lt;/TabsTrigger&gt;
                            &lt;TabsTrigger value="amplification_factor"&gt;Amplification Factor&lt;/TabsTrigger&gt;
                        &lt;/TabsList&gt;

                        &lt;Tooltip&gt;
                            &lt;TooltipTrigger&gt;
                                &lt;Info className="h-5 w-5 text-zinc-500" /&gt;
                            &lt;/TooltipTrigger&gt;
                            &lt;TooltipContent&gt;
                                &lt;p className="max-w-xs"&gt;
                                    {presenter.explanation[currentTab]}
                                &lt;/p&gt;
                            &lt;/TooltipContent&gt;
                        &lt;/Tooltip&gt;
                    &lt;/div&gt;

                    &lt;TabsContent value="total_repetition" className="space-y-6"&gt;
                        &lt;div className="flex items-center justify-between"&gt;
                            &lt;SearchBar
                                searchList={presenter.ngrams}
                                onSubmit={handleSearch}
                                onClear={handleSearchClear}
                                placeholder="Search n-grams..."
                            /&gt;
                            &lt;DownloadButton 
                                presenterID={presenter.id}
                                queryParams={{ 
                                    output: 'summary',
                                    matcher: searchTerm || undefined 
                                }}
                            /&gt;
                        &lt;/div&gt;

                        &lt;ScatterPlot
                            data={currentData}
                            darkMode={isDark}
                            onClick={handleChartClick}
                            tooltip={createTooltipFormatter('total_repetition')}
                            axis={{
                                x: { type: 'log', show: true },
                                y: { type: 'log', show: true }
                            }}
                        /&gt;

                        &lt;DataTable
                            data={selectedNgram &amp;&amp; detailData ? detailData : currentData}
                            columns={tableColumns}
                            onRowSelect={handleTableSelect}
                            selectedRows={selectedRows}
                            darkMode={isDark}
                        /&gt;
                    &lt;/TabsContent&gt;

                    &lt;TabsContent value="amplification_factor" className="space-y-6"&gt;
                        &lt;div className="flex items-center justify-between"&gt;
                            &lt;SearchBar
                                searchList={presenter.ngrams}
                                onSubmit={handleSearch}
                                onClear={handleSearchClear}
                                placeholder="Search n-grams..."
                            /&gt;
                            &lt;DownloadButton 
                                presenterID={presenter.id}
                                queryParams={{ 
                                    output: 'summary',
                                    matcher: searchTerm || undefined 
                                }}
                            /&gt;
                        &lt;/div&gt;

                        &lt;ScatterPlot
                            data={currentData}
                            darkMode={isDark}
                            onClick={handleChartClick}
                            tooltip={createTooltipFormatter('amplification_factor')}
                            axis={{
                                x: { type: 'log', show: true },
                                y: { type: 'log', show: true }
                            }}
                        /&gt;

                        &lt;DataTable
                            data={selectedNgram &amp;&amp; detailData ? detailData : currentData}
                            columns={tableColumns}
                            onRowSelect={handleTableSelect}
                            selectedRows={selectedRows}
                            darkMode={isDark}
                        /&gt;
                    &lt;/TabsContent&gt;
                &lt;/Tabs&gt;
            &lt;/CardContent&gt;
        &lt;/Card&gt;
    );
}
</code></pre>
<p>This comprehensive guide covers all aspects of building React dashboards for the analyzer platform. The combination of TypeScript, modern React patterns, rich UI components, and seamless API integration creates powerful, user-friendly data analysis interfaces that complement the Python-based analyzer pipeline.</p>
<h2 id="next-steps">Next Steps</h2>
<p>After this section it would be a good idea to review the sections that discuss implementing  <a href="https://shiny.posit.co/py/">Shiny</a> dashboards. Although once you finish reading this it would also be a good idea to review the sections for each domain.</p>
<ul>
<li><a href="../domains/core-domain.md">Core Domain</a></li>
<li><a href="../domains/edge-domain.md">Edge Domain</a></li>
<li><a href="../domains/content-domain.md">Content Domain</a></li>
<li><a href="../shiny/">Shiny Dashboards</a></li>
</ul>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright  2025 CIB Mango Tree
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.path", "navigation.sections", "navigation.top", "navigation.tabs", "content.code.copy", "content.tooltips", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>